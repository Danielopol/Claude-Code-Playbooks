---
title: "Multi-Agent Financial Planner"
description: "Build a virtual financial advisory team with specialized agents for budgeting, retirement planning, and investment strategy that analyze your finances and create actionable plans."
category: "finance"
difficulty: "intermediate"
timeToSetup: "15 minutes"
author: "community"
sourceUrl: "https://www.reddit.com/r/ClaudeAI/comments/1py5icg/whats_your_best_claude_code_noncoding_use_case/"
tags: ["finance", "retirement", "budgeting", "investing", "agents", "financial-planning", "YNAB"]
createdAt: "2026-01-30"
---

## What This Does

This playbook creates a virtual financial advisory firm with multiple specialized agents: a budget analyst, a conservative retirement planner, an aggressive investment advisor, and a lead partner who coordinates them all. The agents analyze your financial data, debate strategies, and produce a unified action plan with quarterly check-ins. Inspired by a Reddit user who built this exact setup and connected it to their YNAB budgeting software via API.

## Prerequisites

- Claude Code installed and configured
- Your financial data in markdown or CSV format (assets, liabilities, income, spending)
- Optional: API access to your budgeting software (YNAB, Monarch, etc.)

## The CLAUDE.md Template

Copy this into a `CLAUDE.md` file in your financial planning folder:

```markdown
# Financial Advisory Team

## Goal
Analyze personal finances using a multi-agent advisory approach. Each agent has a specific role and philosophy. The lead advisor coordinates all agents to produce a unified financial plan.

## Directory Structure
- `data/` — Financial data files (assets.md, liabilities.md, income.md, transactions/)
- `agents/` — Agent role definitions
- `reports/` — Generated analysis reports and action plans
- `scripts/` — Helper scripts for data fetching (optional)

## Agent Roles

### Lead Advisor (Coordinator)
- Interviews the user about short-term and long-term financial goals
- Dispatches sub-agents for specific analysis tasks
- Synthesizes all agent outputs into a unified multi-phase action plan
- Generates retirement scenario modeling (when, where, lifestyle, probability)
- Produces quarterly and annual review documents

### Budget Analyst
- Analyzes gross and net income against 12-24 months of transactions
- Identifies spending patterns, subscription drift, and category anomalies
- Calculates actual savings rate including sinking funds
- Advises on optimal allocation between spending, saving, and investing
- Flags cancelled subscriptions, increasing costs, and budget leaks

### Conservative Advisor (Boglehead Philosophy)
- Recommends index-fund-based, low-cost investment strategies
- Focuses on tax-advantaged accounts (401k, IRA, HSA)
- Prioritizes pre-tax vs post-tax contribution optimization
- Models long-term compound growth scenarios
- Philosophy: "Stay the course, minimize fees, diversify broadly"

### Aggressive Advisor (Growth-Oriented)
- Provides counterarguments to the conservative advisor
- Suggests allocation for higher-risk, higher-reward positions
- Limited to a defined percentage of total portfolio (e.g., 10-20%)
- Must justify risk/reward ratio for any recommendation
- Philosophy: "Calculated risks with asymmetric upside"

## Rules
1. Never store actual account numbers, passwords, or API keys in markdown files
2. All financial figures should be realistic and based on provided data
3. Agents must cite specific data points when making recommendations
4. The aggressive advisor must always disclose risk level
5. Reports should include actionable next steps, not just analysis
6. Quarterly reviews compare actual vs planned performance

## Report Format
Each report in `reports/` should include:
- Executive summary (1 paragraph)
- Key findings by agent
- Points of agreement and disagreement between agents
- Unified recommendation with priority ranking
- Action items with specific dollar amounts and timelines
- Retirement scenario projections (if applicable)

## Commands
- "Interview me about my financial goals" — Start the lead advisor intake process
- "Analyze my spending" — Run the budget analyst on transaction data
- "Create an investment plan" — Both advisors propose competing strategies
- "Generate a quarterly review" — Full review with all agents
- "Model my retirement" — Run retirement scenarios based on current trajectory
- "What can I optimize?" — Quick scan for savings opportunities
```

## Step-by-Step Setup

### Step 1: Create the project structure

```bash
mkdir -p ~/financial-planner/{data,agents,reports,scripts}
cd ~/financial-planner
```

### Step 2: Document your financial data

Create `data/assets.md`:
```
# Assets
- 401(k): $XXX,XXX
- Roth IRA: $XX,XXX
- Brokerage: $XX,XXX
- Savings: $XX,XXX
- Home equity: $XXX,XXX
```

Create `data/liabilities.md`:
```
# Liabilities
- Mortgage: $XXX,XXX at X.X%
- Student loans: $XX,XXX at X.X%
- Car loan: $XX,XXX at X.X%
```

Create `data/income.md`:
```
# Income
- Gross annual: $XXX,XXX
- Net monthly: $X,XXX
- Side income: $X,XXX/month
```

### Step 3: Add transaction data

Export transactions from your bank or budgeting app as CSV files into `data/transactions/`. Claude can analyze CSV directly.

### Step 4: Save the CLAUDE.md and launch

```bash
cd ~/financial-planner
claude
```

Try: "Interview me about my financial goals, then have the budget analyst review my spending data"

## Example Usage

**Start with the intake interview:**
> "Act as the lead advisor. Interview me about my short-term goals (1-2 years), medium-term goals (3-5 years), and retirement vision. Then dispatch the appropriate agents."

**Deep spending analysis:**
> "Have the budget analyst review my last 12 months of transactions. Identify the top 3 areas where I'm overspending and calculate my true savings rate."

**Investment strategy debate:**
> "Have the conservative and aggressive advisors each propose an investment allocation for my brokerage account. Then have the lead advisor synthesize their recommendations."

**Retirement modeling:**
> "Model three retirement scenarios: retire at 55 (lean), 60 (comfortable), and 65 (generous). Factor in my current savings rate and expected market returns."

**Quarterly review:**
> "Generate a Q1 quarterly review comparing my actual spending and investment performance against the plan from last quarter."

## Tips

- **Use Obsidian for data entry**: If you already use Obsidian, keep your financial data there and point Claude Code at the vault folder.
- **API integration**: If you use YNAB, their API is free. Have Claude write a Python script to pull transaction summaries — this way the script is reusable without burning tokens each time.
- **Agent debate produces better plans**: The value comes from agents with different philosophies challenging each other. Don't skip the aggressive advisor even if you're conservative.
- **Keep secrets out of files**: Store API tokens in environment variables or a `.json` file you add to `.gitignore`. Reference them by name in your markdown docs.
- **Automate the repetitive parts**: Have Claude write scripts for data fetching and transaction categorization so you can re-run them without LLM involvement.

## Troubleshooting

**Problem**: Claude's financial advice seems generic

**Solution**: Provide more specific data. The more detailed your income, spending, and goal information, the more personalized the analysis. Include actual numbers, not ranges.

**Problem**: Transaction data is too large for context

**Solution**: Have Claude write a Python script that pre-processes your CSV into a spending summary by category and month. Feed the summary to the agents instead of raw transactions.

**Problem**: Recommendations conflict between agents

**Solution**: That's by design. The lead advisor's job is to synthesize competing recommendations into a balanced plan. If you want more conservative output, weight the Boglehead advisor's input higher in your prompt.
